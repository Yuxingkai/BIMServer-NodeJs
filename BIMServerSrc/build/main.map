{"version":3,"sources":["webpack:///webpack/bootstrap a14bde22588af9641998","webpack:///external \"fs\"","webpack:///./server/controllers/login.js","webpack:///./server/realmDb/user.js","webpack:///external \"realm\"","webpack:///./nuxt.config.js","webpack:///./server/controller-api.js","webpack:///./server/controller-realmDb.js","webpack:///external \"koa\"","webpack:///external \"koa-bodyparser\"","webpack:///external \"nuxt\"","webpack:///./~/babel-runtime/regenerator/index.js","webpack:///./server/controllers ^\\.\\/.*$","webpack:///./server/realmDb ^\\.\\/.*$","webpack:///external \"koa-router\"","webpack:///external \"regenerator-runtime\"","webpack:///external \"uglifyjs-webpack-plugin\"","webpack:///external \"uuid\"","webpack:///./server/index.js"],"names":["fs","require","UUID","Realm","login","ctx","next","email","query","password","console","log","realm","user","objects","filtered","response","body","isRepeatEmail","results","module","exports","User","name","primaryKey","properties","id","token","type","optional","project","UglifyJSPlugin","head","title","meta","charset","content","hid","link","rel","href","css","plugins","src","ssr","loading","color","build","extend","config","isDev","isClient","forEach","item","index","options","minimize","splice","compress","mangle","except","addMapping","router","mapping","url","startsWith","path","substring","get","post","addControllers","files","readdirSync","__dirname","js_files","filter","f","endsWith","dir","controllers_dir","routes","schema","bodyParser","controller","controller_realm","app","host","process","env","HOST","port","PORT","dev","nuxt","builder","catch","error","e","exit","use","status","Promise","resolve","reject","res","on","render","req","promise","then","listen"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 17);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap a14bde22588af9641998","module.exports = require(\"fs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs\"\n// module id = 0\n// module chunks = 0","const fs=require('fs');\nconst UUID=require('uuid');\nconst Realm = require('realm');\n\nlet login =async (ctx,next)=>{\n  let email=ctx.query['email'];\n  let password=ctx.query['password'];\n  console.log(email,password);\n  let realm = new Realm();\n  let user = realm.objects('User').filtered(`email=\"${email}\"`);\n  // realm.write(() => {\n  //   realm.create('User', {email: email,password:password,id:UUID.v1()});\n  // });\n  ctx.response.body=user\n\n}\n\nlet isRepeatEmail=async (ctx,next)=>{\n  let email=ctx.query['email'];\n  let realm=new Realm();\n  let user=realm.objects('User').filtered(`email=\"${email}\"`);\n  if(user[0]){\n    ctx.response.body={results:true};\n  }\n  else{\n    ctx.response.body={results:false};\n  }\n}\n\nmodule.exports={\n  'GET /api/login':login,\n  'GET /api/isRepeatEmail':isRepeatEmail\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/controllers/login.js","const User = {\n  name: 'User',\n  primaryKey:'id',\n  properties: {\n    id:  'string',\n    email: 'string',\n    password: 'string',\n    token: {type: 'string', optional: true},\n    project:{type: 'string', optional: true}\n  }\n};\n\nmodule.exports=User\n\n\n\n// WEBPACK FOOTER //\n// ./server/realmDb/user.js","module.exports = require(\"realm\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"realm\"\n// module id = 3\n// module chunks = 0","const UglifyJSPlugin = require('uglifyjs-webpack-plugin');\nmodule.exports = {\n  /*\n  ** Headers of the page\n  */\n  head: {\n    title: 'starter',\n    meta: [\n      { charset: 'utf-8' },\n      { name: 'viewport', content: 'width=device-width, initial-scale=1' },\n      { hid: 'description', name: 'description', content: 'Nuxt.js project' }\n    ],\n    link: [\n      { rel: 'icon', type: 'image/x-icon', href: '/favicon.ico' }\n    ]\n\n  },\n  /*\n  ** Global CSS\n  */\n  css: ['~assets/css/main.css'],\n  plugins:[\n    {\n      src:'~/plugins/eleme-ui'\n    },\n    {\n      src:'~/plugins/axios-config',\n      ssr:false\n        },\n    {\n      src:'~/plugins/JSZip',\n      ssr:false\n    },\n    {\n      src:'~/plugins/vue-threejs-view'\n    }\n  ],\n  /*\n  ** Customize the progress-bar color\n  */\n  loading: { color: '#3B8070' },\n  build: {\n    extend (config, { isDev, isClient }) {\n      //nuxt bug 重复的webpack配置以及 混淆压缩\n      config.plugins.forEach((item,index)=>{\n        if(item.options){\n          if(item.options.minimize){\n            config.plugins.splice(index,1)\n          }\n          if(item.options.compress){\n            item.options.mangle={\n              except: ['Parser','Consts','Validator', 'RawObject','app', 'RawObjectDescription', 'WWOBJLoader','WWMeshCreator','WWOBJLoaderRef','WWOBJLoaderRunner']\n            }\n          }\n        }\n\n      })\n    }\n}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./nuxt.config.js","const fs = require('fs');\nfunction addMapping(router, mapping) {\n    for (var url in mapping) {\n        if (url.startsWith('GET ')) {\n            var path = url.substring(4);\n            router.get(path, mapping[url]);\n            console.log(`register URL mapping: GET ${path}`);\n        } else if (url.startsWith('POST ')) {\n            var path = url.substring(5);\n            router.post(path, mapping[url]);\n            console.log(`register URL mapping: POST ${path}`);\n        } else {\n            console.log(`invalid URL: ${url}`);\n        }\n    }\n}\n\nfunction addControllers(router) {\n    var files = fs.readdirSync(__dirname + '/controllers');\n    var js_files = files.filter((f) => {\n        return f.endsWith('.js');\n    });\n\n    for (var f of js_files) {\n        console.log(`process controller: ${f}...`);\n        let mapping = require(__dirname + '/controllers/' + f);\n        addMapping(router, mapping);\n    }\n}\n\nmodule.exports = function (dir) {\n    let\n        controllers_dir = dir || 'controllers', // 如果不传参数，扫描目录默认为'controllers'\n        router = require('koa-router')();\n    addControllers(router, controllers_dir);\n    return router.routes();\n};\n\n\n\n// WEBPACK FOOTER //\n// ./server/controller-api.js","const fs=require('fs');\nconst Realm=require('realm');\n\nfunction addMapping( mapping) {\n  let realm = new Realm({schema: [mapping]});\n}\n\nfunction addControllers() {\n    var files = fs.readdirSync(__dirname + '/realmDb');\n    var js_files = files.filter((f) => {\n        return f.endsWith('.js');\n    });\n\n    for (var f of js_files) {\n        console.log(`process realmDb: ${f}...`);\n        let mapping = require(__dirname + '/realmDb/' + f);\n        addMapping(mapping);\n    }\n}\n\nmodule.exports=function () {\n  addControllers();\n}\n\n\n\n// WEBPACK FOOTER //\n// ./server/controller-realmDb.js","module.exports = require(\"koa\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa\"\n// module id = 7\n// module chunks = 0","module.exports = require(\"koa-bodyparser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa-bodyparser\"\n// module id = 8\n// module chunks = 0","module.exports = require(\"nuxt\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"nuxt\"\n// module id = 9\n// module chunks = 0","module.exports = require(\"regenerator-runtime\");\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/regenerator/index.js\n// module id = 10\n// module chunks = 0","var map = {\n\t\"./login\": 1,\n\t\"./login.js\": 1\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 11;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/controllers ^\\.\\/.*$\n// module id = 11\n// module chunks = 0","var map = {\n\t\"./user\": 2,\n\t\"./user.js\": 2\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 12;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./server/realmDb ^\\.\\/.*$\n// module id = 12\n// module chunks = 0","module.exports = require(\"koa-router\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa-router\"\n// module id = 13\n// module chunks = 0","module.exports = require(\"regenerator-runtime\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"regenerator-runtime\"\n// module id = 14\n// module chunks = 0","module.exports = require(\"uglifyjs-webpack-plugin\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"uglifyjs-webpack-plugin\"\n// module id = 15\n// module chunks = 0","module.exports = require(\"uuid\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"uuid\"\n// module id = 16\n// module chunks = 0","import Koa from 'koa'\nimport { Nuxt, Builder } from 'nuxt'\nconst fs=require('fs');\nconst bodyParser = require('koa-bodyparser');\nconst controller = require('./controller-api');\nconst controller_realm=require('./controller-realmDb')\nconst app = new Koa()\nconst host = process.env.HOST || '127.0.0.1'\nconst port = process.env.PORT || 3000\n\n// Import and Set Nuxt.js options\nlet config = require('../nuxt.config.js')\nconfig.dev = !(app.env === 'production')\n\n// Instantiate nuxt.js\nconst nuxt = new Nuxt(config)\n\n// Build in development\nif (config.dev) {\n  const builder = new Builder(nuxt)\n  builder.build().catch(e => {\n    console.error(e) // eslint-disable-line no-console\n    process.exit(1)\n  })\n}\n\n\n\n//add bodyParser middleware\napp.use(bodyParser());\n// add router middleware:\ncontroller_realm()\napp.use(controller());\n\n\napp.use(ctx => {\n  ctx.status = 200 // koa defaults to 404 when it sees that status is unset\n\n  return new Promise((resolve, reject) => {\n    ctx.res.on('close', resolve)\n    ctx.res.on('finish', resolve)\n    nuxt.render(ctx.req, ctx.res, promise => {\n      // nuxt.render passes a rejected promise into callback on error.\n      promise.then(resolve).catch(reject)\n    })\n  })\n})\n\n\n\n\n\napp.listen(port, host)\nconsole.log('Server listening on ' + host + ':' + port) // eslint-disable-line no-console\n\n\n\n// WEBPACK FOOTER //\n// ./server/index.js"],"sourceRoot":""}